{"version":3,"file":"script.js","mappings":";;;;;;;;;;;;;;;;;;AAAa;;AACb;AACA;AACA;AAEO,SAASA,YAAYA,CAAA,EAAG;EAC9B,OAAOC,KAAK,CAAC,cAAc,CAAC,SACrB,CAAC;IAAA,OAAMC,OAAO,CAACC,MAAM,CAAC;MAAEC,KAAK,EAAE;IAAgB,CAAC,CAAC;EAAA,EAAC,CACvDC,IAAI,CAAC,UAACC,QAAQ,EAAK;IACnB,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;MACjB,OAAOD,QAAQ,CAACE,IAAI,EAAE,CAACH,IAAI,CAAC,UAACI,GAAG;QAAA,OAAKP,OAAO,CAACC,MAAM,CAACM,GAAG,CAAC;MAAA,EAAC;IAC1D;IACA,OAAOH,QAAQ,CAACE,IAAI,EAAE;EACvB,CAAC,CAAC;AACJ;AAEO,SAASE,SAASA,CAAA,EAAG;EAC3B,OAAOT,KAAK,CAAC,WAAW,CAAC,SAClB,CAAC;IAAA,OAAMC,OAAO,CAACC,MAAM,CAAC;MAAEC,KAAK,EAAE;IAAgB,CAAC,CAAC;EAAA,EAAC,CACvDC,IAAI,CAAC,UAACC,QAAQ,EAAK;IACnB,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;MACjB,OAAOD,QAAQ,CAACE,IAAI,EAAE,CAACH,IAAI,CAAC,UAACI,GAAG;QAAA,OAAKP,OAAO,CAACC,MAAM,CAACM,GAAG,CAAC;MAAA,EAAC;IAC1D;IACA,OAAOH,QAAQ,CAACE,IAAI,EAAE;EACvB,CAAC,CAAC;AACJ;AAEO,SAASG,UAAUA,CAACC,QAAQ,EAAE;EACpC,OACCX,KAAK,CAAC,cAAc,EAAE;IACrBY,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACR,cAAc,EAAE,kBAAkB,CAAE;IACrC,CAAC;;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEL,QAAQ,EAARA;IAAS,CAAC;EAClC,CAAC;EACA;EACA;EACA;EAAA,SACM,CAAC;IAAA,OAAMV,OAAO,CAACC,MAAM,CAAC;MAAEC,KAAK,EAAE;IAAgB,CAAC,CAAC;EAAA,EAAC,CACvDC,IAAI,CAAC,UAACC,QAAQ,EAAK;IACnB,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;MACjB;MACA;MACA;MACA,OAAOD,QAAQ,CAACE,IAAI,EAAE,CAACH,IAAI,CAAC,UAACI,GAAG;QAAA,OAAKP,OAAO,CAACC,MAAM,CAACM,GAAG,CAAC;MAAA,EAAC;IAC1D;IACA,OAAOH,QAAQ,CAACE,IAAI,EAAE,CAAC,CAAC;EACzB,CAAC,CAAC;AAEL;;AAEO,SAASU,WAAWA,CAAA,EAAG;EAC7B,OAAOjB,KAAK,CAAC,cAAc,EAAE;IAC5BY,MAAM,EAAE;EACT,CAAC,CAAC,SACK,CAAC;IAAA,OAAMX,OAAO,CAACC,MAAM,CAAC;MAAEC,KAAK,EAAE;IAAgB,CAAC,CAAC;EAAA,EAAC,CACvDC,IAAI,CAAC,UAACC,QAAQ,EAAK;IACnB,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;MACjB,OAAOD,QAAQ,CAACE,IAAI,EAAE,CAACH,IAAI,CAAC,UAACI,GAAG;QAAA,OAAKP,OAAO,CAACC,MAAM,CAACM,GAAG,CAAC;MAAA,EAAC;IAC1D;IACA,OAAOH,QAAQ,CAACE,IAAI,EAAE;EACvB,CAAC,CAAC;AACJ;AAEO,SAASW,QAAQA,CAACC,IAAI,EAAE;EAC9B,OAAOnB,KAAK,CAAC,WAAW,EAAE;IACzBY,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACR,cAAc,EAAE;IACjB,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEG,IAAI,EAAJA;IAAK,CAAC;EAC9B,CAAC,CAAC,SACK,CAAC;IAAA,OAAMlB,OAAO,CAACC,MAAM,CAAC;MAAEC,KAAK,EAAE;IAAgB,CAAC,CAAC;EAAA,EAAC,CACvDC,IAAI,CAAC,UAACC,QAAQ,EAAK;IACnB,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;MACjB,OAAOD,QAAQ,CAACE,IAAI,EAAE,CAACH,IAAI,CAAC,UAACI,GAAG;QAAA,OAAKP,OAAO,CAACC,MAAM,CAACM,GAAG,CAAC;MAAA,EAAC;IAC1D;IACA,OAAOH,QAAQ,CAACE,IAAI,EAAE;EACvB,CAAC,CAAC;AACJ;;;;;;;;;;;;;;;AChFa;;AAEN,SAASa,eAAeA,CAACT,QAAQ,EAAE;EACzC,IAAIA,QAAQ,KAAK,EAAE,EAAE,OAAO,KAAK;EACjC,OAAOA,QAAQ,CAACU,IAAI,EAAE,CAACC,KAAK,CAAC,iBAAiB,CAAC;AAChD;AAEO,SAASC,WAAWA,CAACJ,IAAI,EAAE;EACjC,IAAIA,IAAI,KAAK,EAAE,EAAE,OAAO,KAAK;EAC7B,OAAOA,IAAI,CAACE,IAAI,EAAE,CAACC,KAAK,CAAC,aAAa,CAAC;AACxC;;;;;;;;;;;;;;;;;ACVa;;AAEN,SAASE,WAAWA,CAACC,EAAE,EAAE;EAC/BA,EAAE,CAACC,SAAS,CAACC,MAAM,CAAC,UAAU,CAAC;AAChC;AAEO,SAASC,WAAWA,CAACH,EAAE,EAAE;EAC/BA,EAAE,CAACC,SAAS,CAACG,GAAG,CAAC,UAAU,CAAC;AAC7B;AAEO,SAASC,cAAcA,CAACL,EAAE,EAAEM,GAAG,EAAE;EACvCN,EAAE,CAACC,SAAS,CAACC,MAAM,CAAC,UAAU,CAAC;EAC/BF,EAAE,CAACO,SAAS,GAAGD,GAAG;AACnB;AAEO,SAASE,UAAUA,CAACC,OAAO,EAAEC,KAAK,EAAE;EAC1C,IAAQC,QAAQ,GAAwBD,KAAK,CAArCC,QAAQ;IAAEC,SAAS,GAAaF,KAAK,CAA3BE,SAAS;IAAEC,MAAM,GAAKH,KAAK,CAAhBG,MAAM;EACnC,IAAkBC,IAAI,GAAuBL,OAAO,CAA5CvB,QAAQ;IAAoBQ,IAAI,GAAKe,OAAO,CAA5BM,UAAU;EAElC,IAAMC,UAAU,2RAAAC,MAAA,CAMqBH,IAAI,CAACI,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,sDAAAD,MAAA,CACfH,IAAI,+IAKtC;EAEJ,IAAMK,QAAQ,iIAAAF,MAAA,CAG+BH,IAAI,iCAAAG,MAAA,CAChCvB,IAAI,GAAG,cAAc,GAAG,4BAA4B,uCAAAuB,MAAA,CAExDvB,IAAI,GAAG,8BAA8B,GAAGA,IAAI,GAAG,SAAS,GAAG,EAAE,iHAAAuB,MAAA,CAI/BvB,IAAI,GAAG,QAAQ,GAAG,KAAK,iVAO9D;EAEJiB,QAAQ,CAACS,SAAS,GAAGJ,UAAU;EAC/BJ,SAAS,CAACX,SAAS,CAACG,GAAG,CAAC,UAAU,CAAC;EACnCS,MAAM,CAACO,SAAS,GAAGD,QAAQ;AAC5B;;;;;;UCvDA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;ACNa;;AAE2E;AACV;AACvB;AAEvD,IAAME,cAAc,GAAGC,QAAQ,CAACC,aAAa,CAAC,gBAAgB,CAAC;AAC/D,IAAMC,cAAc,GAAGF,QAAQ,CAACC,aAAa,CAAC,gBAAgB,CAAC;AAC/D,IAAME,UAAU,GAAGH,QAAQ,CAACC,aAAa,CAAC,aAAa,CAAC;AACxD,IAAMG,MAAM,GAAGJ,QAAQ,CAACC,aAAa,CAAC,kBAAkB,CAAC;AACzD,IAAMI,aAAa,GAAGL,QAAQ,CAACC,aAAa,CAAC,eAAe,CAAC;AAC7D,IAAMK,YAAY,GAAGN,QAAQ,CAACC,aAAa,CAAC,SAAS,CAAC;AACtD,IAAMM,aAAa,GAAGP,QAAQ,CAACC,aAAa,CAAC,eAAe,CAAC;AAC7D,IAAMO,aAAa,GAAGR,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;AACrD,IAAMQ,eAAe,GAAG;EAAEpB,QAAQ,EAAEiB,YAAY;EAAEhB,SAAS,EAAEiB,aAAa;EAAEhB,MAAM,EAAEiB;AAAc,CAAC;;AAEnG;AACAE,aAAa,EAAE;AACf,SAASA,aAAaA,CAAA,EAAG;EACxB1D,uDAAY,EAAE,CACZK,IAAI,CAAC,YAAM;IACXsD,sBAAsB,EAAE;EACzB,CAAC,CAAC,SACI,CAAC,UAAClD,GAAG,EAAK;IACf,IAAIA,GAAG,CAACL,KAAK,KAAK,cAAc,EAAE;MACjCqB,kDAAW,CAACsB,cAAc,CAAC;MAC3BlB,kDAAW,CAACwB,aAAa,CAAC;MAC1BxB,kDAAW,CAACqB,cAAc,CAAC;IAC5B;EACD,CAAC,CAAC;AACJ;AAEA,SAASS,sBAAsBA,CAAA,EAAG;EACjCjD,oDAAS,EAAE,CACTL,IAAI,CAAC,UAACuD,IAAI,EAAK;IACf/B,kDAAW,CAACkB,cAAc,CAAC;IAC3BtB,kDAAW,CAAC4B,aAAa,CAAC;IAC1BnB,iDAAU,CAAC0B,IAAI,EAAEH,eAAe,CAAC;EAClC,CAAC,CAAC,SACI,CAAC,UAAChD,GAAG,EAAK;IACfoD,WAAW,CAACN,aAAa,EAAE9C,GAAG,CAAC;EAChC,CAAC,CAAC;AACJ;AAEA0C,UAAU,CAACW,gBAAgB,CAAC,OAAO,EAAE,UAACC,CAAC,EAAK;EAC3CA,CAAC,CAACC,cAAc,EAAE;EAClB,IAAMC,SAAS,GAAGb,MAAM,CAACc,KAAK;EAE9B,IAAI,CAAC7C,uDAAe,CAAC4C,SAAS,CAAC,EAAE;IAChClC,qDAAc,CACbmB,cAAc,EACd,kFAAkF,CAClF;IACD;EACD;EACA,IAAIe,SAAS,KAAK,KAAK,EAAE;IACxBlC,qDAAc,CAACmB,cAAc,EAAE,4BAA4B,CAAC;IAC5D;EACD;EAEAvC,qDAAU,CAACsD,SAAS,CAAC,CACnB5D,IAAI,CAAC,YAAM;IACXsD,sBAAsB,EAAE;EACzB,CAAC,CAAC,SACI,CAAC,UAAClD,GAAG,EAAK;IACfoD,WAAW,CAACX,cAAc,EAAEzC,GAAG,CAAC;EACjC,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF4C,aAAa,CAACS,gBAAgB,CAAC,OAAO,EAAE,UAACC,CAAC,EAAK;EAC9CA,CAAC,CAACC,cAAc,EAAE;EAClB,IAAID,CAAC,CAACI,MAAM,CAACxC,SAAS,CAACyC,QAAQ,CAAC,aAAa,CAAC,EAAE;IAC/CC,MAAM,EAAE;EACT;EACA,IAAIN,CAAC,CAACI,MAAM,CAACxC,SAAS,CAACyC,QAAQ,CAAC,eAAe,CAAC,EAAE;IACjD,IAAME,YAAY,GAAGP,CAAC,CAACI,MAAM;IAC7B,IAAMI,SAAS,GAAGD,YAAY,CAACE,sBAAsB,CAACC,QAAQ,CAAC,CAAC,CAAC,CAACP,KAAK;IACvEQ,OAAO,CAACH,SAAS,CAAC;EACnB;AACD,CAAC,CAAC;AAEF,SAASF,MAAMA,CAAA,EAAG;EACjBnD,sDAAW,EAAE,CACXb,IAAI,CAAC;IAAA,OAAMqD,aAAa,EAAE;EAAA,EAAC,SACtB,CAAC,UAACjD,GAAG,EAAK;IACfoD,WAAW,CAACN,aAAa,EAAE9C,GAAG,CAAC;EAChC,CAAC,CAAC;AACJ;AAEA,SAASiE,OAAOA,CAACH,SAAS,EAAE;EAC3B,IAAI,CAAC/C,mDAAW,CAAC+C,SAAS,CAAC,EAAE;IAC5BxC,qDAAc,CAACwB,aAAa,EAAE,mEAAmE,CAAC;IAClG;EACD;EAEApC,mDAAQ,CAACoD,SAAS,CAAC,CACjBlE,IAAI,CAAC,YAAM;IACXsD,sBAAsB,EAAE;EACzB,CAAC,CAAC,SACI,CAAC,UAAClD,GAAG,EAAK;IACfoD,WAAW,CAACN,aAAa,EAAE9C,GAAG,CAAC;EAChC,CAAC,CAAC;AACJ;AAEA,SAASoD,WAAWA,CAACnC,EAAE,EAAEjB,GAAG,EAAE;EAC7B,IAAIA,GAAG,CAACL,KAAK,KAAK,eAAe,EAAE;IAClC2B,qDAAc,CAACL,EAAE,EAAE,8DAA8D,CAAC;IAClF;EACD;EACA,IAAIjB,GAAG,CAACL,KAAK,KAAK,cAAc,EAAE;IACjCqB,kDAAW,CAACsB,cAAc,CAAC;IAC3BlB,kDAAW,CAACwB,aAAa,CAAC;IAC1BtB,qDAAc,CAACmB,cAAc,EAAE,mEAAmE,CAAC;IACnG;EACD;EACA,IAAIzC,GAAG,CAACL,KAAK,KAAK,mBAAmB,EAAE;IACtC2B,qDAAc,CACbmB,cAAc,EACd,kFAAkF,CAClF;IACD;EACD;EACA,IAAIzC,GAAG,CAACL,KAAK,KAAK,mBAAmB,EAAE;IACtC2B,qDAAc,CAACmB,cAAc,EAAE,4BAA4B,CAAC;IAC5D;EACD;EACA,IAAIzC,GAAG,CAACL,KAAK,KAAK,eAAe,IAAIK,GAAG,CAACL,KAAK,KAAK,cAAc,EAAE;IAClE2B,qDAAc,CAACwB,aAAa,EAAE,mEAAmE,CAAC;IAClG;EACD;EACAxB,qDAAc,CAACL,EAAE,EAAE,+CAA+C,CAAC;EACnE;AACD,C","sources":["webpack://08-js-service-calls/./src/services.js","webpack://08-js-service-calls/./src/utils.js","webpack://08-js-service-calls/./src/view.js","webpack://08-js-service-calls/webpack/bootstrap","webpack://08-js-service-calls/webpack/runtime/define property getters","webpack://08-js-service-calls/webpack/runtime/hasOwnProperty shorthand","webpack://08-js-service-calls/webpack/runtime/make namespace object","webpack://08-js-service-calls/./src/script.js"],"sourcesContent":["'use strict';\n// This exported function returns a promise\n// that resolves with data\n// or rejects with an error object\n\nexport function fetchSession() {\n\treturn fetch('/api/session')\n\t\t.catch(() => Promise.reject({ error: 'network-error' }))\n\t\t.then((response) => {\n\t\t\tif (!response.ok) {\n\t\t\t\treturn response.json().then((err) => Promise.reject(err));\n\t\t\t}\n\t\t\treturn response.json();\n\t\t});\n}\n\nexport function fetchWord() {\n\treturn fetch('/api/word')\n\t\t.catch(() => Promise.reject({ error: 'network-error' }))\n\t\t.then((response) => {\n\t\t\tif (!response.ok) {\n\t\t\t\treturn response.json().then((err) => Promise.reject(err));\n\t\t\t}\n\t\t\treturn response.json();\n\t\t});\n}\n\nexport function fetchLogin(username) {\n\treturn (\n\t\tfetch('/api/session', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'content-type': 'application/json', // set this header when sending JSON in the body of request\n\t\t\t},\n\t\t\tbody: JSON.stringify({ username }),\n\t\t})\n\t\t\t// fetch() rejects on network error\n\t\t\t// So we convert that to a formatted error object\n\t\t\t// so our caller can handle all \"errors\" in a similar way\n\t\t\t.catch(() => Promise.reject({ error: 'network-error' }))\n\t\t\t.then((response) => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\t// response.ok checks the status code from the service\n\t\t\t\t\t// This service returns JSON on errors,\n\t\t\t\t\t// so we use that as the error object and reject\n\t\t\t\t\treturn response.json().then((err) => Promise.reject(err));\n\t\t\t\t}\n\t\t\t\treturn response.json(); // happy status code means resolve with data from service\n\t\t\t})\n\t);\n}\n\nexport function fetchLogout() {\n\treturn fetch('/api/session', {\n\t\tmethod: 'DELETE',\n\t})\n\t\t.catch(() => Promise.reject({ error: 'network-error' }))\n\t\t.then((response) => {\n\t\t\tif (!response.ok) {\n\t\t\t\treturn response.json().then((err) => Promise.reject(err));\n\t\t\t}\n\t\t\treturn response.json();\n\t\t});\n}\n\nexport function postWord(word) {\n\treturn fetch('/api/word', {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'content-type': 'application/json',\n\t\t},\n\t\tbody: JSON.stringify({ word }),\n\t})\n\t\t.catch(() => Promise.reject({ error: 'network-error' }))\n\t\t.then((response) => {\n\t\t\tif (!response.ok) {\n\t\t\t\treturn response.json().then((err) => Promise.reject(err));\n\t\t\t}\n\t\t\treturn response.json();\n\t\t});\n}\n","'use strict';\n\nexport function isValidUsername(username) {\n\tif (username === '') return false;\n\treturn username.trim().match(/^[A-Za-z0-9_]+$/);\n}\n\nexport function isValidWord(word) {\n\tif (word === '') return false;\n\treturn word.trim().match(/^[A-Za-z]*$/);\n}\n","'use strict';\n\nexport function showSection(el) {\n\tel.classList.remove('not-show');\n}\n\nexport function hideSection(el) {\n\tel.classList.add('not-show');\n}\n\nexport function displayWarning(el, msg) {\n\tel.classList.remove('not-show');\n\tel.innerText = msg;\n}\n\nexport function renderHome(wordFor, elObj) {\n\tconst { headerEl, warningEl, homeEl } = elObj;\n\tconst { username: name, storedWord: word } = wordFor;\n\n\tconst headerHtml = `\n        <div class=\"logo\">\n            <img src=\"./assets/favicon.svg\" alt=\"word world logo\" class=\"logo__img\" />\n            <h3 class=\"logo__text\"><span>word</span> world</h3>\n        </div>\n        <div class=\"user\">\n            <span class=\"user__img\">${name.slice(0, 1)}</span>\n            <span class=\"user__name\">${name}</span>\n            <form>\n                <button class=\"btn btn--logout\">log out</button>\n            </form>\n        </div>\n    `;\n\n\tconst homeHtml = `\n        <div class=\"content\">\n            <h2 class=\"content__text\">\n                <span class=\"content__name\">${name}, </span>\n                ${word ? 'your word is' : 'you have no word, add one!'}\n            </h2>\n            ${word ? '<span class=\"content__word\">' + word + '</span>' : ''}\n        </div>\n\n        <form class=\"form change-form\">\n            <h3 class=\"change-text\">Wanna ${word ? 'Change' : 'Add'}?</h3>\n            <div class=\"form-row\">\n                <label for=\"word\" class=\"form-label\">your new word</label>\n                <input type=\"text\" class=\"form-input input--word\" name=\"word\" />\n            </div>\n            <button class=\"btn btn--submit btn--new-word\">submit</button>\n        </form>\n    `;\n\n\theaderEl.innerHTML = headerHtml;\n\twarningEl.classList.add('not-show');\n\thomeEl.innerHTML = homeHtml;\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","'use strict';\n\nimport { fetchLogin, fetchSession, fetchWord, fetchLogout, postWord } from './services';\nimport { showSection, hideSection, displayWarning, renderHome } from './view';\nimport { isValidUsername, isValidWord } from './utils';\n\nconst loginSectionEl = document.querySelector('.login-section');\nconst loginWarningEl = document.querySelector('#login-warning');\nconst loginBtnEl = document.querySelector('.btn--login');\nconst nameEl = document.querySelector('.input--username');\nconst homeSectionEl = document.querySelector('.home-section');\nconst homeHeaderEl = document.querySelector('.header');\nconst homeWarningEl = document.querySelector('#home-warning');\nconst homeContentEl = document.querySelector('.home');\nconst renderHomeElObj = { headerEl: homeHeaderEl, warningEl: homeWarningEl, homeEl: homeContentEl };\n\n// Run after every refreshing\ninitialRender();\nfunction initialRender() {\n\tfetchSession()\n\t\t.then(() => {\n\t\t\tfetchWordAndRenderHome();\n\t\t})\n\t\t.catch((err) => {\n\t\t\tif (err.error === 'auth-missing') {\n\t\t\t\tshowSection(loginSectionEl);\n\t\t\t\thideSection(homeSectionEl);\n\t\t\t\thideSection(loginWarningEl);\n\t\t\t}\n\t\t});\n}\n\nfunction fetchWordAndRenderHome() {\n\tfetchWord()\n\t\t.then((data) => {\n\t\t\thideSection(loginSectionEl);\n\t\t\tshowSection(homeSectionEl);\n\t\t\trenderHome(data, renderHomeElObj);\n\t\t})\n\t\t.catch((err) => {\n\t\t\tcheckErrors(homeWarningEl, err);\n\t\t});\n}\n\nloginBtnEl.addEventListener('click', (e) => {\n\te.preventDefault();\n\tconst nameInput = nameEl.value;\n\n\tif (!isValidUsername(nameInput)) {\n\t\tdisplayWarning(\n\t\t\tloginWarningEl,\n\t\t\t'Please make sure the username is not empty and only include letters and numbers.'\n\t\t);\n\t\treturn;\n\t}\n\tif (nameInput === 'dog') {\n\t\tdisplayWarning(loginWarningEl, 'Sorry, DOGs are forbidden!');\n\t\treturn;\n\t}\n\n\tfetchLogin(nameInput)\n\t\t.then(() => {\n\t\t\tfetchWordAndRenderHome();\n\t\t})\n\t\t.catch((err) => {\n\t\t\tcheckErrors(loginWarningEl, err);\n\t\t});\n});\n\nhomeSectionEl.addEventListener('click', (e) => {\n\te.preventDefault();\n\tif (e.target.classList.contains('btn--logout')) {\n\t\tlogout();\n\t}\n\tif (e.target.classList.contains('btn--new-word')) {\n\t\tconst newWordBtnEl = e.target;\n\t\tconst wordInput = newWordBtnEl.previousElementSibling.children[1].value;\n\t\tnewWord(wordInput);\n\t}\n});\n\nfunction logout() {\n\tfetchLogout()\n\t\t.then(() => initialRender())\n\t\t.catch((err) => {\n\t\t\tcheckErrors(homeWarningEl, err);\n\t\t});\n}\n\nfunction newWord(wordInput) {\n\tif (!isValidWord(wordInput)) {\n\t\tdisplayWarning(homeWarningEl, 'Please make sure your word is not empty and only include letters.');\n\t\treturn;\n\t}\n\n\tpostWord(wordInput)\n\t\t.then(() => {\n\t\t\tfetchWordAndRenderHome();\n\t\t})\n\t\t.catch((err) => {\n\t\t\tcheckErrors(homeWarningEl, err);\n\t\t});\n}\n\nfunction checkErrors(el, err) {\n\tif (err.error === 'network-error') {\n\t\tdisplayWarning(el, 'Your network is down, please check your Internet connection.');\n\t\treturn;\n\t}\n\tif (err.error === 'auth-missing') {\n\t\tshowSection(loginSectionEl);\n\t\thideSection(homeSectionEl);\n\t\tdisplayWarning(loginWarningEl, 'Your session is invalid, missing or expired, please log in again.');\n\t\treturn;\n\t}\n\tif (err.error === 'required-username') {\n\t\tdisplayWarning(\n\t\t\tloginWarningEl,\n\t\t\t'Please make sure the username is not empty and only include letters and numbers.'\n\t\t);\n\t\treturn;\n\t}\n\tif (err.error === 'auth-insufficient') {\n\t\tdisplayWarning(loginWarningEl, 'Sorry, DOGs are forbidden!');\n\t\treturn;\n\t}\n\tif (err.error === 'required-word' || err.error === 'invalid-word') {\n\t\tdisplayWarning(homeWarningEl, 'Please make sure your word is not empty and only include letters.');\n\t\treturn;\n\t}\n\tdisplayWarning(el, 'Something went wrong, please try again later.');\n\treturn;\n}\n"],"names":["fetchSession","fetch","Promise","reject","error","then","response","ok","json","err","fetchWord","fetchLogin","username","method","headers","body","JSON","stringify","fetchLogout","postWord","word","isValidUsername","trim","match","isValidWord","showSection","el","classList","remove","hideSection","add","displayWarning","msg","innerText","renderHome","wordFor","elObj","headerEl","warningEl","homeEl","name","storedWord","headerHtml","concat","slice","homeHtml","innerHTML","loginSectionEl","document","querySelector","loginWarningEl","loginBtnEl","nameEl","homeSectionEl","homeHeaderEl","homeWarningEl","homeContentEl","renderHomeElObj","initialRender","fetchWordAndRenderHome","data","checkErrors","addEventListener","e","preventDefault","nameInput","value","target","contains","logout","newWordBtnEl","wordInput","previousElementSibling","children","newWord"],"sourceRoot":""}